\usepackage{fontspec,xunicode,xltxtra,listings,xcolor,color,float,multicol,hyperref,indentfirst,titlesec}

%% 中文字体设置
\setmainfont[BoldFont=Adobe Heiti Std]{Adobe Song Std}
\setsansfont[BoldFont=Adobe Heiti Std]{Adobe Kaiti Std}
\setmonofont{Bitstream Vera Sans Mono}
\XeTeXlinebreaklocale "zh" %
\XeTeXlinebreakskip = 0pt plus 1pt minus 0.1pt
\newcommand\li{\fontspec{LiSu}}
\newcommand\hei{\fontspec{SimHei}}
\newcommand\you{\fontspec{YouYuan}}
\newcommand\sun{\fontspec{SimSun}}
\newcommand\fangsong{\fontspec{仿宋_GB2312}}
\newcommand\kai{\fontspec{KaiTi_GB2312}}
\lstset{
  basicstyle=\small,
  keywordstyle=\color{blue},
  commentstyle=\small\color{red},
  showspaces=false,
  showtabs=false,
  tabsize=4,
  breaklines=true,
  extendedchars=false           %这一条命令可以解决代码跨页时，章节标题，页眉等汉字不显示的问题
  %numbers=left,
  %numberstyle={\tiny\color{lightgray}},
  %stepnumber=1, %行号会逐行往上递增
  %numbersep=5pt,
  %frame=shadowbox, 
  %framexleftmargin=5mm, 
  %rulesepcolor=\color{red!20!green!20!blue!20!},
}

\usetheme{Warsaw}               

\date{}                         %关闭自动生成日期
